---
import { useState } from 'react';
//import { useNavigate } from 'react-router-dom'; // Si usas React Router
---

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - Boda Noelia y Juanjo</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
    }
  </style>
</head>
<body class="bg-stone-200 flex justify-center items-center h-screen">

  <!-- Contenedor del formulario -->
  <div class="bg-neutral-50 p-8 rounded-lg shadow-xl w-full max-w-md">
    <h2 class="text-center text-3xl font-semibold text-stone-500 mb-6">Acceso Invitados</h2>
    <form id="loginForm" class="space-y-4">
      <!-- Campo de código de acceso -->
      <div>
        <label for="accessCode" class="block text-stone-500 text-lg">Código de Acceso</label>
        <input 
          type="text" 
          id="accessCode" 
          class="w-full p-3 mt-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"
          placeholder="Introduce tu código" 
          required 
        />
      </div>

      <!-- Mensaje de error -->
      <div id="errorMessage" class="text-red-500 text-sm hidden">
        <p>El código no es válido o no existe. Por favor, verifica el código de acceso.</p>
      </div>

      <!-- Botón de acceso -->
      <div>
        <button 
          type="submit"
          class="w-full bg-purple-300 text-white p-3 rounded-lg hover:bg-purple-500 transition duration-200"
        >
          Acceder
        </button>
      </div>
    </form>
  </div>

  <!-- Script para el manejo del formulario -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const loginForm = document.getElementById('loginForm');
        if (!loginForm) return;

        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const accessCodeInput = document.getElementById('accessCode') as HTMLInputElement;
            const accessCode = accessCodeInput.value;
            const errorMessage = document.getElementById('errorMessage');

            if (!accessCodeInput || !errorMessage) return;

            
            console.log('Código de acceso:', accessCode);
        });
    });


     /* // Lógica de validación en Firebase (ejemplo)
      try {
        // Llama a Firebase para verificar si el código de acceso existe
        // Puedes usar la función `firebase.auth().signInWithEmailAndPassword` o cualquier otra función según tu lógica

        // Si el código es válido, redirige
        // Si es inválido, muestra el mensaje de error
        const isValidCode = await verificarCodigo(accessCode); // Función ficticia de Firebase
        if (isValidCode) {
          window.location.href = '/inicio'; // Redirige a la página principal
        } else {
          errorMessage.classList.remove('hidden');
        }
      } catch (error) {
        console.error('Error al verificar el código:', error);
        errorMessage.classList.remove('hidden');
      }
    });

    /*async function verificarCodigo(codigo) {
      // Aquí iría la lógica para verificar el código en Firebase
      // Retorna true si es válido, de lo contrario false
      return codigo === 'ejemploCodigoValido'; // Este es solo un ejemplo
    }*/
  </script>
</body>
</html>
